<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Otaku Beads | Bag</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0..1,0" rel="stylesheet">
    <style>
        :root { --bg: #0F0D13; --card: #1C1921; --prim: #D0BCFF; --on-prim: #381E72; --out: #49454F; --sheet: #25232A; --surf: #1C1B1F; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: #E6E1E5; margin: 0; padding-bottom: 120px; }
        
        /* M3 FLOATING BAG ANCHOR */
        #bag-home { position: fixed; bottom: 24px; right: 20px; background: var(--prim); color: var(--on-prim); padding: 16px 24px; border-radius: 28px; z-index: 999; font-weight: 700; border: none; display: flex; align-items: center; gap: 10px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); cursor: pointer; }
        
        /* SECTION #X: PAXI M3 ELEMENTS */
        .sheet-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 10000; display: none; align-items: flex-end; }
        .sheet-overlay.active { display: flex; }
        .sheet-content { width: 100%; background: var(--sheet); border-radius: 32px 32px 0 0; padding: 24px; box-sizing: border-box; max-height: 90vh; overflow-y: auto; border-top: 1px solid var(--prim); }
        .paxi-card { background: var(--surf); border-radius: 24px; padding: 16px; margin: 16px 0; border: 1px solid var(--out); }
        .btn-m3 { height: 52px; border-radius: 26px; border: none; font-weight: 700; background: var(--prim); color: var(--on-prim); width: 100%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
    </style>
</head>
<body>

    <button id="bag-home" onclick="UI.open('cart')">
        <span class="material-symbols-rounded">shopping_bag</span>
        <span id="bag-count">R0</span>
    </button>

    <div id="cart-overlay" class="sheet-overlay" onclick="UI.close('cart')">
        <div class="sheet-content" onclick="event.stopPropagation()">
            <h2 style="margin-top:0;">Your Bag</h2>
            <div id="cart-list" style="min-height: 50px;"></div>
            
            <div class="paxi-card">
                <p style="margin-top:0; font-weight:700; color:var(--prim);">PAXI Delivery Options (ZAR)</p>
                <label style="display:flex; align-items:center; gap:12px; margin-bottom:12px;">
                    <input type="radio" name="paxi" value="0" checked onchange="ENGINE.update()"> Collect (R0)
                </label>
                <label style="display:flex; align-items:center; gap:12px; margin-bottom:12px;">
                    <input type="radio" name="paxi" value="60" onchange="ENGINE.update()"> Standard - 7-9 Days (R60)
                </label>
                <label style="display:flex; align-items:center; gap:12px;">
                    <input type="radio" name="paxi" value="100" onchange="ENGINE.update()"> Express - 3-5 Days (R100)
                </label>
            </div>

            <div style="display:flex; justify-content:space-between; padding:20px 0; font-size:20px; font-weight:700;">
                <span>Total</span><span id="final-total" style="color:var(--prim);">R0</span>
            </div>
            <button class="btn-m3" onclick="ENGINE.checkout()">Complete Order ⚓</button>
        </div>
    </div>

    <script>
        const UI = {
            open(id) { document.getElementById(id + '-overlay').classList.add('active'); },
            close(id) { document.getElementById(id + '-overlay').classList.remove('active'); }
        };
        const ENGINE = {
            cart: {},
            update() {
                let sub = 0;
                const ship = parseInt(document.querySelector('input[name="paxi"]:checked').value);
                document.getElementById('bag-count').innerText = 'R' + sub;
                document.getElementById('final-total').innerText = 'R' + (sub + ship);
            },
            checkout() { alert("Google Cloud linking order... ⚓"); }
        };
    </script>
</body>
</html>
